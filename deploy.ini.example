# Meeting Meter PHP Deployment Configuration
# Copy this file to deploy.ini and customize for your environment
#
# This configuration supports two deployment modes:
#
# 1. SINGLE DOMAIN MODE (multi_domain_enabled = false)
#    - Deploy to one domain using settings in this file
#    - Simple setup for single application deployment
#    - Use the domain, web_root, app_dir, etc. settings below
#
# 2. MULTI-DOMAIN MODE (multi_domain_enabled = true)
#    - Deploy to multiple domains using domains.ini file
#    - Each domain has its own configuration in domains.ini
#    - Settings below are used as defaults/fallbacks
#    - Run: ./manage_domains.sh to manage domain configurations

[general]
# Application name (used for single domain mode or as default)
app_name = meeting_meter

# Multi-domain support configuration
# Set to 'true' to use domains.ini for multiple domain configurations
# Set to 'false' to use single domain mode with settings below
multi_domain_enabled = false

# Single Domain Mode Settings (used when multi_domain_enabled = false)
# Domain name for single domain deployment
domain = meetingmeter.example.com

# Web server root directory
web_root = /var/www/html

# Application directory (relative to web_root)
app_dir = meeting_meter

# Source directory (relative to deploy_php directory)
source_dir = ../meeting_meter

# Backup directory for rollbacks
backup_dir = /tmp/meeting_meter_backup

# Multi-Domain Mode Settings (used when multi_domain_enabled = true)
# Default domain name (used when no specific domain is selected)
default_domain = meetingmeter.example.com

# Domains configuration file
domains_config = domains.ini

[apache]
# Apache configuration file path (used in single domain mode)
apache_config_file = /etc/apache2/sites-available/meeting-meter.conf

# Apache site name (used in single domain mode)
apache_site_name = meeting-meter

# Enable security headers
security_headers = true

# Enable rate limiting
rate_limiting = true

# Rate limit requests per minute
rate_limit = 400

[nginx]
# Nginx configuration file path (used in single domain mode)
nginx_config_file = /etc/nginx/sites-available/meeting-meter

# Nginx site name (used in single domain mode)
nginx_site_name = meeting-meter

[security]
# Secure configuration directory (outside web root) - used in single domain mode
secure_config_dir = /etc/meeting_meter

# Log directory - used in single domain mode
log_dir = /var/log/meeting_meter

# Configuration file permissions
config_permissions = 600

# Directory permissions
dir_permissions = 750

[php]
# Required PHP version
min_php_version = 7.4

# Required PHP extensions
required_extensions = json,session,mbstring

# PHP settings
upload_max_filesize = 10M
post_max_size = 10M
max_execution_time = 30
memory_limit = 128M
session_gc_maxlifetime = 3600

[ssl]
# Enable SSL setup with Let's Encrypt (used in single domain mode)
enable_ssl = false

# Email for Let's Encrypt registration (used in single domain mode)
ssl_email = webmaster@meetingmeter.example.com

# Additional domains for SSL (used in single domain mode)
ssl_alt_domains = www.meetingmeter.example.com

[systemd]
# Enable systemd service
enable_service = true

# Service file path
service_file = /etc/systemd/system/meeting-meter.service

# Environment file path
env_file = /etc/default/meeting-meter

[logrotate]
# Enable log rotation
enable_logrotate = true

# Log rotation config file
logrotate_file = /etc/logrotate.d/meeting-meter

# Log retention days
log_retention_days = 52

[backup]
# Enable backup before deployment
enable_backup = true

# Backup retention days
backup_retention_days = 7

# Backup compression
compress_backup = true
